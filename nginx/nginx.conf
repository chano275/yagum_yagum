server {
    listen 80;
    server_name j12b206.p.ssafy.io;

    location / {
        proxy_pass http://reactnative:8081/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }

    location /hot {
        proxy_pass http://reactnative:8081/hot;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }

    location /message {
        proxy_pass http://reactnative:8081/message;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }

    location /nginx_status {
    stub_status;
    allow 127.0.0.1;        # 내부에서만 접근 허용
    allow 172.17.0.0/16;    # 도커 브릿지 네트워크 허용 (보통 이거면 됨)
    deny all;
}

}
